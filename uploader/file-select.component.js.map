{"version":3,"file":"file-select.component.js","sourceRoot":"","sources":["../../.tmp/uploader/file-select.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n    Component,\n    Input,\n    Output,\n    Renderer2,\n    Inject,\n    ViewChild,\n    ElementRef,\n    OnInit,\n    OnDestroy,\n    HostListener,\n    EventEmitter\n} from '@angular/core';\nimport { inputValueToBoolean, isArray, isString } from '../util/helpers';\nimport { mimeTypeConvert } from './util';\n\n@Component({\n    selector: '[thyFileSelect],thy-file-select',\n    template: \"<ng-content></ng-content> <input style=\\\"width: 0; height: 0\\\" thyStopPropagation=\\\"true\\\" [hidden]=\\\"'true'\\\" #fileInput type=\\\"file\\\" (change)=\\\"selectFile($event)\\\" [attr.accept]=\\\"acceptType\\\"> \"\n})\nexport class ThyFileSelectComponent implements OnInit, OnDestroy {\n    _multiple: boolean;\n\n    _acceptFolder: boolean;\n\n    acceptType: string;\n\n    @Output() thyOnFileSelect = new EventEmitter();\n\n    @ViewChild('fileInput') fileInput: ElementRef<HTMLInputElement>;\n\n    @Input()\n    set thyMultiple(value: boolean) {\n        this._multiple = inputValueToBoolean(value);\n        if (this._multiple) {\n            this.fileInput.nativeElement.setAttribute('multiple', '');\n        } else {\n            this.fileInput.nativeElement.removeAttribute('multiple');\n        }\n    }\n\n    @Input()\n    set thyAcceptFolder(value: boolean) {\n        this._acceptFolder = inputValueToBoolean(value);\n        if (this._acceptFolder) {\n            this.fileInput.nativeElement.setAttribute('webkitdirectory', '');\n        } else {\n            this.fileInput.nativeElement.removeAttribute('webkitdirectory');\n        }\n    }\n\n    @Input()\n    set thyAcceptType(value: Array<string> | string) {\n        this.acceptType = mimeTypeConvert(value);\n    }\n\n    @HostListener('click', ['$event'])\n    click($event: any) {\n        this.fileInput.nativeElement.click();\n    }\n\n    constructor(private elementRef: ElementRef) {}\n\n    _isInputTypeFile() {\n        const nativeElement = this.elementRef.nativeElement;\n        return (\n            nativeElement.tagName.toLowerCase() === 'input' &&\n            nativeElement.type &&\n            nativeElement.type.toLowerCase() === 'file'\n        );\n    }\n\n    selectFile($event: Event) {\n        const files = this.fileInput.nativeElement.files;\n        if (files && files.length > 0) {\n            this.thyOnFileSelect.emit({\n                files: files,\n                nativeEvent: $event\n            });\n            this.fileInput.nativeElement.value = '';\n        }\n    }\n\n    ngOnInit() {}\n\n    ngOnDestroy() {}\n}\n"]}