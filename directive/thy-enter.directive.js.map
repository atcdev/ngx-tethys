{"version":3,"file":"thy-enter.directive.js","sourceRoot":"","sources":["../../.tmp/directive/thy-enter.directive.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,YAAY,EAAU,MAAM,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,eAAe,CAAC;AACvG,OAAO,EAAE,QAAQ,EAAE,MAAM,SAAS,CAAC;AAEnC;;GAEG;AAIH;IAYI,2BAAoB,MAAc,EAAU,UAAsB,EAAU,QAAmB;QAA3E,WAAM,GAAN,MAAM,CAAQ;QAAU,eAAU,GAAV,UAAU,CAAY;QAAU,aAAQ,GAAR,QAAQ,CAAW;QAXrF,aAAQ,GAAG,IAAI,YAAY,EAAE,CAAC;IAW0D,CAAC;IATnG,qCAAS,GAAT,UAAU,KAAoB;QAA9B,iBAOC;QANG,IAAM,OAAO,GAAG,KAAK,CAAC,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC;QAC7C,IAAI,OAAO,KAAK,QAAQ,CAAC,KAAK,EAAE;YAC5B,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC;gBACZ,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC9B,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAID,oCAAQ,GAAR;QAAA,iBAIC;QAHG,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC;YAC1B,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC,aAAa,EAAE,SAAS,EAAE,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAI,CAAC,CAAC,CAAC;QAC9F,CAAC,CAAC,CAAC;IACP,CAAC;IAjBS;QAAT,MAAM,EAAE;;uDAA+B;IAD/B,iBAAiB;QAH7B,SAAS,CAAC;YACP,QAAQ,EAAE,YAAY;SACzB,CAAC;yCAa8B,MAAM,EAAsB,UAAU,EAAoB,SAAS;OAZtF,iBAAiB,CAmB7B;IAAD,wBAAC;CAAA,AAnBD,IAmBC;SAnBY,iBAAiB","sourcesContent":["import { Directive, Output, EventEmitter, OnInit, NgZone, ElementRef, Renderer2 } from '@angular/core';\nimport { keycodes } from '../util';\n\n/**\n * 与 (keydown.enter) 区别是支持组合键，当按 Ctrl + Enter 或者 Command + Enter 也会触发\n */\n@Directive({\n    selector: '[thyEnter]'\n})\nexport class ThyEnterDirective implements OnInit {\n    @Output() thyEnter = new EventEmitter();\n\n    onKeydown(event: KeyboardEvent) {\n        const keyCode = event.which || event.keyCode;\n        if (keyCode === keycodes.ENTER) {\n            this.ngZone.run(() => {\n                this.thyEnter.emit(event);\n            });\n        }\n    }\n\n    constructor(private ngZone: NgZone, private elementRef: ElementRef, private renderer: Renderer2) {}\n\n    ngOnInit(): void {\n        this.ngZone.runOutsideAngular(() => {\n            this.renderer.listen(this.elementRef.nativeElement, 'keydown', this.onKeydown.bind(this));\n        });\n    }\n}\n"]}