{"version":3,"file":"calendar-day.component.js","sourceRoot":"","sources":["../../../.tmp/datepicker-next/calendar/calendar-day.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, HostBinding, OnDestroy } from '@angular/core';\nimport { sliceArray, calendarDateConvert, getTimestamp } from '../util';\nimport { ThyDatepickerNextStore, datepickerNextActions } from '../datepicker-next.store';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { ThyDatepickerNextContainerComponent } from '../datepicker-container.component';\nimport { ThyDatepickerNextEventsEnum } from '../datepicker-next.interface';\n\nconst weeks = ['日', '一', '二', '三', '四', '五', '六'];\n\ninterface DatepickerNextCalendarDayInfo {\n    week: number;\n    year: number;\n    month: number;\n    day: number;\n    isActive?: boolean;\n    isDisabled?: boolean;\n    isToday?: boolean;\n    isCurrentMonth?: boolean;\n    isPreMonth?: boolean;\n    isNextMonth?: boolean;\n}\n\n@Component({\n    selector: 'thy-datepicker-next-date-day',\n    template: \"<thy-datepicker-next-calendar-head (preClick)=\\\"preMonthClick()\\\" (nextClick)=\\\"nextMonthClick()\\\"></thy-datepicker-next-calendar-head> <div class=\\\"calendar-content\\\"> <div class=\\\"calendar-grid\\\"> <div class=\\\"calendar-row\\\"> <div class=\\\"calendar-cell\\\" *ngFor=\\\"let item of weeks\\\">{{item}}</div> </div> <div class=\\\"calendar-row\\\" *ngFor=\\\"let row of calendarRows;let i=index; trackBy:trackByFn\\\"> <div class=\\\"calendar-cell\\\" *ngFor=\\\"let item of row;let i=index; trackBy:trackByFn\\\" [ngClass]=\\\"calendarCellStyleClass(item)\\\" (click)=\\\"cellClick(item)\\\"> <span *ngIf=\\\"!item.isToday\\\">{{item.day}}</span> <ng-container *ngIf=\\\"item.isToday\\\" [ngTemplateOutlet]=\\\"todayTemplate\\\"></ng-container> </div> </div> </div> </div> <ng-template #todayTemplate> <span>今</span> </ng-template> \"\n})\nexport class ThyDatepickerNextCalendarDayComponent implements OnInit, OnDestroy {\n    @HostBinding('class') styleClass = 'calendar-container calendar-day-container';\n\n    today = new Date();\n\n    weeks = weeks;\n\n    days: DatepickerNextCalendarDayInfo[] = [];\n\n    calendarHeadNavigation: {\n        text: string;\n        year: number;\n        month: number;\n    };\n\n    calendarRows: (DatepickerNextCalendarDayInfo[])[] = [];\n\n    private ngUnsubscribe$ = new Subject();\n\n    constructor(public store: ThyDatepickerNextStore, public parentComponent: ThyDatepickerNextContainerComponent) {}\n\n    ngOnInit() {\n        this.store\n            .select(ThyDatepickerNextStore.calendarCurrent)\n            .pipe(takeUntil(this.ngUnsubscribe$))\n            .subscribe(n => {\n                this._combinationMonthDays();\n            });\n        this.store\n            .select(ThyDatepickerNextStore.disableRules)\n            .pipe(takeUntil(this.ngUnsubscribe$))\n            .subscribe(n => {\n                this._combinationMonthDays();\n            });\n    }\n\n    _combinationMonthDays() {\n        let allDays: DatepickerNextCalendarDayInfo[] = [];\n\n        const nowDate = new Date(this.store.snapshot.calendarCurrent.year, this.store.snapshot.calendarCurrent.month);\n\n        const nowMonthCountDays = this._getMonthCountDays();\n        const nowMonthFirstDateWeek = this._getMonthFirstDayWeek();\n        const nowMonthLastDateWeek = this._getMonthLastDayWeek();\n\n        let _preMonthDays: DatepickerNextCalendarDayInfo[] = [];\n        const _nowMonthDays: DatepickerNextCalendarDayInfo[] = [];\n        const _nextMonthDays: DatepickerNextCalendarDayInfo[] = [];\n\n        // _nowMonthDays\n        for (let index = 1; index <= nowMonthCountDays; index++) {\n            const item: DatepickerNextCalendarDayInfo = {\n                year: this.store.snapshot.calendarCurrent.year,\n                month: this.store.snapshot.calendarCurrent.month,\n                day: index,\n                week: (index - 1 + nowMonthFirstDateWeek) % 7,\n                isCurrentMonth: true\n            };\n            // today\n            if (index === this.today.getDate() && item.month === this.today.getMonth() && item.year === this.today.getFullYear()) {\n                item.isToday = true;\n            }\n            // active\n            if (\n                this.store.snapshot.calendarSelected &&\n                index === this.store.snapshot.calendarSelected.day &&\n                item.month === this.store.snapshot.calendarSelected.month &&\n                item.year === this.store.snapshot.calendarSelected.year\n            ) {\n                item.isActive = true;\n            }\n            // disabled rules\n            const _timestamp = getTimestamp(new Date(item.year, item.month, item.day));\n            if (\n                this.store.snapshot.disableRules &&\n                (_timestamp < this.store.snapshot.disableRules['<'] || _timestamp > this.store.snapshot.disableRules['>'])\n            ) {\n                item.isDisabled = true;\n            }\n            _nowMonthDays.push(item);\n        }\n        console.log(_nowMonthDays);\n\n        // _preMonthDays\n        const preMonthLastDate = this._getPreMonthLastDate();\n        const preDateObject = calendarDateConvert(this.store.snapshot.calendarCurrent.year, this.store.snapshot.calendarCurrent.month - 1);\n\n        for (let index = 0; index < 6; index++) {\n            _preMonthDays.push({\n                year: preDateObject.year,\n                month: preDateObject.month,\n                day: preMonthLastDate - index,\n                week: nowMonthFirstDateWeek - 1 - index,\n                isPreMonth: true\n            });\n        }\n        _preMonthDays = _preMonthDays.reverse();\n\n        // _nextMonthDays\n        const nextDateObject = calendarDateConvert(this.store.snapshot.calendarCurrent.year, this.store.snapshot.calendarCurrent.month + 1);\n        for (let index = 1; index <= 6; index++) {\n            _nextMonthDays.push({\n                year: nextDateObject.year,\n                month: nextDateObject.month,\n                day: index,\n                week: (nowMonthLastDateWeek + index) % 7,\n                isNextMonth: true\n            });\n        }\n\n        // combination\n        allDays = [..._preMonthDays, ..._nowMonthDays, ..._nextMonthDays];\n\n        allDays = this._setBeginWeek(allDays);\n\n        this.calendarRows = sliceArray(allDays, 7);\n    }\n\n    private _getMonthFirstDayWeek(): number {\n        const date = new Date(this.store.snapshot.calendarCurrent.year, this.store.snapshot.calendarCurrent.month);\n        return date.getDay();\n    }\n\n    private _getMonthLastDayWeek(): number {\n        const date = new Date(this.store.snapshot.calendarCurrent.year, this.store.snapshot.calendarCurrent.month + 1, 0);\n        return date.getDay();\n    }\n\n    private _getMonthCountDays(): number {\n        const date = new Date(this.store.snapshot.calendarCurrent.year, this.store.snapshot.calendarCurrent.month + 1, 0);\n        return date.getDate();\n    }\n\n    private _getPreMonthLastDate(): number {\n        const date = new Date(this.store.snapshot.calendarCurrent.year, this.store.snapshot.calendarCurrent.month, 0);\n        return date.getDate();\n    }\n\n    _setBeginWeek(allDays: DatepickerNextCalendarDayInfo[]) {\n        if (allDays.length === 28) {\n            return allDays;\n        }\n\n        let beginIndex: number, endIndex: number;\n        for (let index = 0; index < allDays.length; index++) {\n            if (beginIndex === undefined && allDays[index].week === 0) {\n                beginIndex = index;\n            }\n            if (allDays[index].week === 0) {\n                endIndex = index - 1;\n            }\n        }\n        return allDays.filter((value, index) => {\n            return index >= beginIndex && index <= endIndex;\n        });\n    }\n\n    calendarCellStyleClass(calendarItem: DatepickerNextCalendarDayInfo) {\n        return {\n            'pre-month': calendarItem.isPreMonth,\n            'next-month': calendarItem.isNextMonth,\n            today: calendarItem.isToday,\n            active: calendarItem.isActive,\n            disabled: calendarItem.isDisabled\n        };\n    }\n\n    trackByFn(index: number) {\n        return index;\n    }\n\n    preMonthClick() {\n        this.store.dispatch(datepickerNextActions.changeCalendarCurrent, {\n            month: this.store.snapshot.calendarCurrent.month - 1\n        });\n    }\n\n    nextMonthClick() {\n        this.store.dispatch(datepickerNextActions.changeCalendarCurrent, {\n            month: this.store.snapshot.calendarCurrent.month + 1\n        });\n    }\n\n    cellClick(item: DatepickerNextCalendarDayInfo) {\n        if (item.isDisabled) {\n            return;\n        }\n\n        this.store.dispatch(datepickerNextActions.changeCalendarSelected, {\n            year: item.year,\n            month: item.month,\n            day: item.day\n        });\n\n        if (item.isPreMonth) {\n            this.preMonthClick();\n        } else if (item.isNextMonth) {\n            this.nextMonthClick();\n        } else {\n            this.calendarRows.forEach((n: DatepickerNextCalendarDayInfo[]) => {\n                n.forEach((nn: DatepickerNextCalendarDayInfo) => {\n                    nn.isActive = false;\n                });\n            });\n            item.isActive = true;\n        }\n\n        this.parentComponent.behaviorValueChange(ThyDatepickerNextEventsEnum.calendarDone);\n    }\n\n    ngOnDestroy(): void {\n        this.ngUnsubscribe$.next();\n        this.ngUnsubscribe$.complete();\n    }\n}\n"]}