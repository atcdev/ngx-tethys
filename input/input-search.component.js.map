{"version":3,"file":"input-search.component.js","sourceRoot":"","sources":["../../.tmp/input/input-search.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n    Component,\n    HostBinding,\n    Input,\n    Output,\n    ContentChild,\n    TemplateRef,\n    ElementRef,\n    ViewEncapsulation,\n    EventEmitter,\n    forwardRef,\n    ChangeDetectorRef\n} from '@angular/core';\nimport { ThyTranslate, UpdateHostClassService } from '../shared';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nexport type InputSearchTheme = 'ellipse' | '';\n\nexport const CUSTOM_INPUT_SEARCH_CONTROL_VALUE_ACCESSOR: any = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => ThyInputSearchComponent),\n    multi: true\n};\n\nconst noop = () => {};\n\n@Component({\n    selector: 'thy-input-search',\n    template: \"<i class=\\\"wtf wtf-search-o input-prefix-icon\\\"></i> <input class=\\\"input-search-control\\\" thyInput [name]=\\\"name\\\" [placeholder]=\\\"placeholder\\\" [disabled]=\\\"disabled\\\" [thyAutofocus]=\\\"autoFocus\\\" [(ngModel)]=\\\"searchText\\\" (ngModelChange)=\\\"searchModelChange()\\\"> <a *ngIf=\\\"searchText\\\" class=\\\"close input-suffix-icon\\\" href=\\\"javascript:;\\\" (click)=\\\"clearSearchText($event)\\\"> <i class=\\\"wtf wtf-close\\\"></i> </a>\",\n    providers: [UpdateHostClassService, CUSTOM_INPUT_SEARCH_CONTROL_VALUE_ACCESSOR],\n    encapsulation: ViewEncapsulation.None\n})\nexport class ThyInputSearchComponent implements ControlValueAccessor {\n    private onTouchedCallback: () => void = noop;\n\n    private onChangeCallback: (_: any) => void = noop;\n\n    public disabled = false;\n\n    public autoFocus = false;\n\n    @HostBinding('class.input-search-container') _isSearchContainer = true;\n\n    @HostBinding('class.input-search-ellipse') _isSearchEllipse = false;\n\n    searchText: string;\n\n    @Input() name = '';\n\n    @Input() placeholder = '';\n\n    @Input()\n    set thyTheme(value: InputSearchTheme) {\n        if (value === 'ellipse') {\n            this._isSearchEllipse = true;\n        }\n    }\n\n    @Input()\n    set thySearchFocus(value: boolean) {\n        this.autoFocus = value;\n    }\n\n    @Output() clear: EventEmitter<Event> = new EventEmitter<Event>();\n\n    constructor(private cdr: ChangeDetectorRef) {}\n\n    writeValue(value: any): void {\n        this.searchText = value;\n        this.cdr.markForCheck();\n    }\n\n    registerOnChange(fn: any): void {\n        this.onChangeCallback = fn;\n    }\n\n    registerOnTouched(fn: any): void {\n        this.onTouchedCallback = fn;\n    }\n\n    setDisabledState?(isDisabled: boolean): void {\n        this.disabled = isDisabled;\n    }\n\n    searchModelChange() {\n        this.onChangeCallback(this.searchText);\n    }\n\n    clearSearchText(event: Event) {\n        event.stopPropagation();\n        if (this.disabled) {\n            return;\n        }\n        this.searchText = '';\n        this.onChangeCallback(this.searchText);\n        this.clear.emit(event);\n    }\n}\n"]}