{"version":3,"file":"avatar.pipe.js","sourceRoot":"","sources":["../../.tmp/avatar/avatar.pipe.ts"],"names":[],"mappings":"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","sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\nimport { ThyAvatarService } from './avatar.service';\n\n@Pipe({ name: 'avatarShortName' })\nexport class AvatarShortNamePipe implements PipeTransform {\n    transform(name: string): string {\n        if (!name) {\n            return;\n        }\n        name = name.trim();\n        if (/^[\\u4e00-\\u9fa5]+$/.test(name)) {\n            if (name.length > 2) {\n                return name.substr(name.length - 2, 2);\n            }\n        }\n        if (/^[a-zA-Z\\/ ]+$/.test(name)) {\n            if (name.indexOf(' ') > 0) {\n                const ens: string[] = name.split(' ');\n                return (ens[0].substr(0, 1) + ens[1].substr(0, 1)).toUpperCase();\n            }\n        }\n        if (name.length > 2) {\n            return name.substr(0, 2).toUpperCase();\n        }\n        return name.toUpperCase();\n    }\n}\n\n@Pipe({ name: 'avatarBgColor' })\nexport class AvatarBgColorPipe implements PipeTransform {\n    transform(name: string) {\n        if (!name) {\n            return;\n        }\n        const colors = ['#2cccda', '#2dbcff', '#4e8af9', '#7076fa', '#9473fd', '#ef7ede', '#99d75a', '#66c060', '#39ba5d'];\n        const nameArray: string[] = name.split('');\n        const code: number = name && name.length > 0 ? nameArray.reduce(function (result, item) {\n            result.value += item.charCodeAt(0);\n            return result;\n        }, { value: 0 }).value : 0;\n        return {\n            'background-color': colors[(code % 9)]\n        };\n    }\n}\n\n@Pipe({ name: 'thyAvatarSrc' })\nexport class AvatarSrcPipe implements PipeTransform {\n    constructor(private thyAvatarService: ThyAvatarService) { }\n    transform(src: string, size: number) {\n        return this.thyAvatarService.avatarSrcTransform(src, size);\n    }\n}\n\nexport const AvatarPipes = [\n    AvatarShortNamePipe,\n    AvatarBgColorPipe,\n    AvatarSrcPipe\n];\n"]}