{"version":3,"file":"select-custom.component.js","sourceRoot":"","sources":["../../.tmp/select/select-custom.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n    Component,\n    forwardRef,\n    HostBinding,\n    Input,\n    ElementRef,\n    OnInit,\n    ContentChildren,\n    QueryList,\n    Output,\n    EventEmitter,\n    TemplateRef,\n    ContentChild,\n    ViewChild,\n    Renderer2,\n    OnDestroy,\n    ChangeDetectorRef,\n    InjectionToken,\n    Inject,\n    NgZone,\n    AfterContentInit,\n    ChangeDetectionStrategy,\n    HostListener\n} from '@angular/core';\nimport { UpdateHostClassService } from '../shared/update-host-class.service';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport {\n    ThyOptionComponent,\n    OptionSelectionChange,\n    THY_SELECT_OPTION_PARENT_COMPONENT,\n    IThySelectOptionParentComponent\n} from './option.component';\nimport { inputValueToBoolean, isArray } from '../util/helpers';\nimport { ScrollStrategy, Overlay, ViewportRuler, ConnectionPositionPair } from '@angular/cdk/overlay';\nimport { takeUntil, startWith, take, switchMap, skip } from 'rxjs/operators';\nimport { Subject, Observable, merge, defer, empty } from 'rxjs';\nimport { EXPANDED_DROPDOWN_POSITIONS } from '../core/overlay/overlay-opsition-map';\nimport { ThySelectOptionGroupComponent } from './option-group.component';\nimport { SelectionModel } from '@angular/cdk/collections';\n\nexport type InputSize = 'xs' | 'sm' | 'md' | 'lg' | '';\n\nexport type SelectMode = 'multiple' | '';\n\nexport type ThyCustomSelectTriggerType = 'click' | 'hover';\n\nexport interface OptionValue {\n    thyLabelText?: string;\n    thyValue?: string;\n    thyDisabled?: boolean;\n    thyShowOptionCustom?: boolean;\n    thySearchKey?: string;\n}\n\nconst noop = () => {};\n\n@Component({\n    selector: 'thy-custom-select',\n    template: \"<div cdk-overlay-origin (click)=\\\"toggle()\\\" #origin=\\\"cdkOverlayOrigin\\\" #trigger class=\\\"form-control form-control-custom\\\" [class.disabled]=\\\"_disabled\\\" [class.thy-select-selection]=\\\"!thyMode\\\" [ngClass]=\\\"_size ? 'form-control-' + _size : ''\\\" > <ng-container [ngSwitch]=\\\"empty\\\"> <span class=\\\"text-placeholder d-inline-block\\\" *ngSwitchCase=\\\"true\\\"> {{ thyPlaceHolder }} </span> <ng-container *ngSwitchCase=\\\"false\\\" [ngSwitch]=\\\"!!selectedValueDisplayRef\\\"> <ng-container *ngSwitchCase=\\\"true\\\"> <ng-container *ngTemplateOutlet=\\\"selectedValueDisplayRef; context: selectedDisplayContext\\\"></ng-container> </ng-container> <ng-container *ngSwitchDefault [ngSwitch]=\\\"thyMode\\\"> <ng-container *ngSwitchCase=\\\"'multiple'\\\"> <span class=\\\"mr-1\\\" *ngFor=\\\"let item of selected; index as i\\\" thyLabel=\\\"default\\\" thyAfterIcon=\\\"wtf-times\\\" (click)=\\\"remove(item, $event)\\\" > {{ item.thyLabelText }} </span> </ng-container> <ng-container *ngSwitchDefault> <span>{{ firstSelected.thyLabelText }}</span> </ng-container> </ng-container> <a class=\\\"thy-select-remove remove-link\\\" href=\\\"javascript:;\\\" (click)=\\\"clearSelectValue($event)\\\" *ngIf=\\\"thyAllowClear\\\" > <i class=\\\"wtf wtf-times-circle\\\"></i> </a> </ng-container> </ng-container> </div> <ng-template cdk-connected-overlay cdkConnectedOverlayLockPosition cdkConnectedOverlayHasBackdrop [cdkConnectedOverlayPositions]=\\\"positions\\\" cdkConnectedOverlayBackdropClass=\\\"cdk-overlay-transparent-backdrop\\\" [cdkConnectedOverlayOrigin]=\\\"origin\\\" [cdkConnectedOverlayOpen]=\\\"panelOpen\\\" [cdkConnectedOverlayWidth]=\\\"triggerRect?.width\\\" (backdropClick)=\\\"close()\\\" (detach)=\\\"close()\\\" > <div class=\\\"thy-select-container\\\" (mouseleave)=\\\"onSelectContainerMouseleave($event)\\\"> <div class=\\\"trgger-top-leave-block\\\"></div> <div class=\\\"trgger-bottom-leave-block\\\"></div> <div class=\\\"thy-select-search\\\" *ngIf=\\\"thyShowSearch\\\"> <thy-input-search thyAutofocus name=\\\"search\\\" [(ngModel)]=\\\"searchText\\\" (ngModelChange)=\\\"onSearchFilter()\\\" ></thy-input-search> </div> <ng-container *ngIf=\\\"options.length > 0 || optionGroups.length > 0; else emptyPlaceholder\\\"> <div class=\\\"thy-select-custom-options\\\"> <ng-content></ng-content> </div> </ng-container> <ng-template #emptyPlaceholder> <div class=\\\"pl-4 pt-1 pb-1 text-placeholder\\\">{{ _emptyStateText }}</div> </ng-template> </div> </ng-template> \",\n    exportAs: 'thyCustomSelect',\n    providers: [\n        {\n            provide: THY_SELECT_OPTION_PARENT_COMPONENT,\n            useExisting: ThySelectCustomComponent\n        },\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => ThySelectCustomComponent),\n            multi: true\n        },\n        UpdateHostClassService\n    ],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ThySelectCustomComponent\n    implements ControlValueAccessor, IThySelectOptionParentComponent, OnInit, AfterContentInit, OnDestroy {\n    searchText: string;\n\n    _disabled = false;\n\n    _size: InputSize;\n\n    _mode: SelectMode;\n\n    _emptyStateText: string;\n\n    _classNames: any = [];\n\n    _viewContentInitialized = false;\n\n    _loadingDone = true;\n\n    _scrollStrategy: ScrollStrategy;\n\n    _modalValue: any;\n\n    public dropDownPosition = 'bottom';\n\n    _selectionModel: SelectionModel<ThyOptionComponent>;\n\n    positions: ConnectionPositionPair[] = EXPANDED_DROPDOWN_POSITIONS;\n\n    /** The last measured value for the trigger's client bounding rect. */\n    triggerRect: ClientRect;\n\n    /** Emits whenever the component is destroyed. */\n    private readonly _destroy$ = new Subject<void>();\n\n    private onTouchedCallback: () => void = noop;\n\n    private onChangeCallback: (_: any) => void = noop;\n\n    @HostBinding('class.thy-select-custom') _isSelectCustom = true;\n\n    @HostBinding('class.thy-select') _isSelect = true;\n\n    _panelOpen = false;\n\n    // 下拉选项是否展示\n    @HostBinding('class.menu-is-opened')\n    get panelOpen(): boolean {\n        return this._panelOpen;\n    }\n\n    @Output() thyOnSearch: EventEmitter<any> = new EventEmitter<any>();\n\n    @Input() thyShowSearch: boolean;\n\n    @Input() thyPlaceHolder: string;\n\n    @Input() thyServerSearch: boolean;\n\n    @Input() thyHoverTriggerAction: boolean;\n\n    @Input()\n    set thyMode(value: SelectMode) {\n        this._mode = value;\n    }\n\n    get thyMode(): SelectMode {\n        return this._mode;\n    }\n\n    @Input()\n    set thySize(value: InputSize) {\n        this._size = value;\n    }\n\n    @Input()\n    set thyEmptyStateText(value: string) {\n        this._emptyStateText = value;\n    }\n\n    @Input() thyAllowClear = false;\n\n    @Input()\n    set thyLoadingDone(value: boolean) {\n        this._loadingDone = inputValueToBoolean(value);\n    }\n\n    @Input()\n    set thyDisabled(value: string) {\n        this._disabled = inputValueToBoolean(value);\n    }\n\n    /** Whether the select has a value. */\n    get empty(): boolean {\n        return !this._selectionModel || this._selectionModel.isEmpty();\n    }\n\n    /** The currently selected option. */\n    get selected(): ThyOptionComponent | ThyOptionComponent[] {\n        return this.thyMode === 'multiple' ? this._selectionModel.selected : this._selectionModel.selected[0];\n    }\n\n    /** The currently selected option. */\n    get firstSelected(): ThyOptionComponent {\n        return this._selectionModel.selected[0];\n    }\n\n    get selectedDisplayContext(): any {\n        const selectedValues = this._selectionModel.selected;\n        if (selectedValues.length === 0) {\n            return null;\n        }\n        const context = selectedValues.map((option: ThyOptionComponent) => {\n            return option.thyRawValue || option.thyValue;\n        });\n        if (this.thyMode === 'multiple') {\n            return {\n                $implicit: context\n            };\n        } else {\n            return {\n                $implicit: context[0]\n            };\n        }\n    }\n\n    readonly optionSelectionChanges: Observable<OptionSelectionChange> = defer(() => {\n        if (this.options) {\n            return merge(...this.options.map(option => option.selectionChange));\n        }\n        return this._ngZone.onStable.asObservable().pipe(\n            take(1),\n            switchMap(() => this.optionSelectionChanges)\n        );\n    }) as Observable<OptionSelectionChange>;\n\n    @ContentChild('selectedDisplay') selectedValueDisplayRef: TemplateRef<any>;\n\n    @ViewChild('trigger') trigger: ElementRef<any>;\n\n    @ContentChildren(ThyOptionComponent, { descendants: true }) options: QueryList<ThyOptionComponent>;\n\n    @ContentChildren(ThySelectOptionGroupComponent) optionGroups: QueryList<ThySelectOptionGroupComponent>;\n\n    constructor(\n        private _ngZone: NgZone,\n        private elementRef: ElementRef,\n        private updateHostClassService: UpdateHostClassService,\n        private renderer: Renderer2,\n        private overlay: Overlay,\n        private viewportRuler: ViewportRuler,\n        private changeDetectorRef: ChangeDetectorRef\n    ) {\n        this.updateHostClassService.initializeElement(elementRef.nativeElement);\n    }\n\n    @HostListener('mouseover', ['$event'])\n    public trggleHover($event: Event) {\n        console.log('mouseover');\n        if (this.thyHoverTriggerAction) {\n            this.open();\n        }\n    }\n\n    onSelectContainerMouseleave(event: Event) {\n        console.log('leave');\n        if (event) {\n            event.preventDefault();\n        }\n        if (!this.thyHoverTriggerAction) {\n            return;\n        }\n        this.close();\n    }\n\n    writeValue(value: any): void {\n        this._modalValue = value;\n        if (this.options && this.options.length > 0) {\n            this._setSelecttionByModelValue(this._modalValue);\n        }\n    }\n\n    ngOnInit() {\n        this._scrollStrategy = this.overlay.scrollStrategies.reposition();\n        this.viewportRuler\n            .change()\n            .pipe(takeUntil(this._destroy$))\n            .subscribe(() => {\n                if (this._panelOpen) {\n                    this.triggerRect = this.trigger.nativeElement.getBoundingClientRect();\n                    this.changeDetectorRef.markForCheck();\n                }\n            });\n        this._instanceSelectionModel();\n        if (this._size) {\n            this._classNames.push(`thy-select-${this._size}`);\n        }\n        if (this._mode === 'multiple') {\n            this._classNames.push(`thy-select-custom--multiple`);\n        }\n        this.updateHostClassService.updateClass(this._classNames);\n    }\n\n    ngAfterContentInit() {\n        this._selectionModel.onChange.pipe(takeUntil(this._destroy$)).subscribe(event => {\n            event.added.forEach(option => option.select());\n            event.removed.forEach(option => option.deselect());\n        });\n        this.options.changes\n            .pipe(\n                startWith(null),\n                takeUntil(this._destroy$)\n            )\n            .subscribe(() => {\n                this._resetOptions();\n                this._initializeSelection();\n            });\n    }\n\n    _resetOptions() {\n        const changedOrDestroyed$ = merge(this.options.changes, this._destroy$);\n\n        this.optionSelectionChanges.pipe(takeUntil(changedOrDestroyed$)).subscribe((event: OptionSelectionChange) => {\n            this._onSelect(event.option);\n            if (this.thyMode !== 'multiple' && this._panelOpen) {\n                this.close();\n            }\n        });\n    }\n\n    _initializeSelection() {\n        Promise.resolve().then(() => {\n            this._setSelecttionByModelValue(this._modalValue);\n        });\n    }\n\n    _setSelecttionByModelValue(modalValue: any) {\n        this._selectionModel.clear();\n        if (!modalValue) {\n            this.changeDetectorRef.markForCheck();\n            return;\n        }\n        if (this._mode === 'multiple') {\n            if (isArray(modalValue)) {\n                this.options.forEach(option => {\n                    const index = (modalValue as Array<any>).findIndex(itemValue => {\n                        return itemValue === option.thyValue;\n                    });\n                    if (index >= 0) {\n                        this._selectionModel.select(option);\n                    }\n                });\n            }\n        } else {\n            const selectedOption = this.options.find(option => {\n                return option.thyValue === modalValue;\n            });\n            if (selectedOption) {\n                this._selectionModel.select(selectedOption);\n            }\n        }\n        this.changeDetectorRef.markForCheck();\n    }\n\n    registerOnChange(fn: any): void {\n        this.onChangeCallback = fn;\n    }\n\n    registerOnTouched(fn: any): void {\n        this.onTouchedCallback = fn;\n    }\n\n    private _emitModelValueChange() {\n        const selectedValues = this._selectionModel.selected;\n        const changeValue = selectedValues.map((option: ThyOptionComponent) => {\n            return option.thyValue;\n        });\n        if (this._mode === 'multiple') {\n            this._modalValue = changeValue;\n        } else {\n            if (changeValue.length === 0) {\n                this._modalValue = null;\n            } else {\n                this._modalValue = changeValue[0];\n            }\n        }\n        this.onChangeCallback(this._modalValue);\n    }\n\n    remove(item: ThyOptionComponent, event?: Event) {\n        if (event) {\n            event.stopPropagation();\n        }\n        if (this._disabled) {\n            return;\n        }\n        item.deselect();\n    }\n\n    clearSelectValue(event?: Event) {\n        if (event) {\n            event.stopPropagation();\n        }\n        if (this._disabled) {\n            return;\n        }\n        this._selectionModel.clear();\n        this.changeDetectorRef.markForCheck();\n        this._emitModelValueChange();\n    }\n\n    toggle(): void {\n        this._panelOpen ? this.close() : this.open();\n    }\n\n    open(): void {\n        if (this._disabled || !this.options || !this.options.length || this._panelOpen) {\n            return;\n        }\n        this.triggerRect = this.trigger.nativeElement.getBoundingClientRect();\n        this._panelOpen = true;\n    }\n\n    close(): void {\n        if (this._panelOpen) {\n            this._panelOpen = false;\n            this.changeDetectorRef.markForCheck();\n        }\n    }\n\n    onSearchFilter() {\n        if (this.thyServerSearch) {\n            this.thyOnSearch.emit(this.searchText);\n        } else {\n            this.options.forEach(option => {\n                if (option.matchSearchText(this.searchText)) {\n                    option.showOption();\n                } else {\n                    option.hideOption();\n                }\n            });\n        }\n    }\n\n    private _instanceSelectionModel() {\n        this._selectionModel = new SelectionModel<ThyOptionComponent>(this._mode === 'multiple');\n    }\n\n    _onSelect(option: ThyOptionComponent, event?: Event) {\n        const wasSelected = this._selectionModel.isSelected(option);\n\n        if (option.thyValue == null && this.thyMode !== 'multiple') {\n            option.deselect();\n            this._selectionModel.clear();\n        } else {\n            option.selected ? this._selectionModel.select(option) : this._selectionModel.deselect(option);\n        }\n\n        if (wasSelected !== this._selectionModel.isSelected(option)) {\n            this._emitModelValueChange();\n        }\n        this.changeDetectorRef.markForCheck();\n    }\n\n    ngOnDestroy() {\n        this._destroy$.next();\n        this._destroy$.complete();\n    }\n}\n"]}