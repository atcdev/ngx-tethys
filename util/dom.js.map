{"version":3,"file":"dom.js","sourceRoot":"","sources":["../../.tmp/util/dom.ts"],"names":[],"mappings":"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","sourcesContent":["import { ElementRef } from '@angular/core';\nimport * as helpers from './helpers';\n\nconst proto = Element.prototype;\nconst vendor = proto.matches\n    || (proto as any).matchesSelector\n    || proto.webkitMatchesSelector\n    || (proto as any).mozMatchesSelector\n    || (proto as any).proto.msMatchesSelector\n    || (proto as any).oMatchesSelector;\n\n/**\n * Match `el` to `selector`.\n */\nexport function match(el: any, selector: string) {\n    if (vendor) {\n        return vendor.call(el, selector);\n    }\n    const nodes = el.parentNode.querySelectorAll(selector);\n    for (let i = 0; i < nodes.length; i++) {\n        if (nodes[i] === el) {\n            return true;\n        }\n    }\n    return false;\n}\nexport function isDocument(element: any) {\n    return (typeof HTMLDocument !== 'undefined' && element instanceof HTMLDocument)\n        || (element.nodeType && element.nodeType === element.DOCUMENT_NODE);\n}\n\nexport function isElement(element: any) {\n    return (typeof HTMLElement !== 'undefined' && element instanceof HTMLElement)\n        || (element.nodeType && element.nodeType === element.ELEMENT_NODE);\n}\n\nexport function getWindow(elem: any) {\n    return (elem != null && elem === elem.window) ? elem : elem.nodeType === 9 && elem.defaultView;\n}\n\nexport function getElementOffset(elem: HTMLElement) {\n    let docElem, win, rect, doc;\n\n    if (!elem) {\n        return;\n    }\n    // Support: IE<=11+\n    // Running getBoundingClientRect on a\n    // disconnected node in IE throws an error\n    if (!elem.getClientRects().length) {\n        return { top: 0, left: 0 };\n    }\n    rect = elem.getBoundingClientRect();\n\n    // Make sure element is not hidden (display: none)\n    if (rect.width || rect.height) {\n        doc = elem.ownerDocument;\n        win = getWindow(doc);\n        docElem = doc.documentElement;\n\n        return {\n            top: rect.top + win.pageYOffset - docElem.clientTop,\n            left: rect.left + win.pageXOffset - docElem.clientLeft,\n            height: rect.height,\n            width: rect.width\n        };\n    }\n    return rect;\n}\n\nexport function getElementOuterHeight(element: any) {\n    const _element = element.documentElement ? element.documentElement : element;\n    let height = _element.clientHeight;\n    const computedStyle = window.getComputedStyle(_element);\n    height += parseInt(computedStyle.marginTop, 10);\n    height += parseInt(computedStyle.marginBottom, 10);\n    return height;\n}\n\nexport type ElementSelector = HTMLElement | ElementRef | string;\n\nexport function getHTMLElementBySelector(selector: ElementSelector, defaultElementRef: ElementRef): HTMLElement {\n    if (!selector) {\n        return defaultElementRef.nativeElement;\n    } else if (selector === 'body') {\n        return document.body;\n    } else if (helpers.isString(selector)) {\n        return document.querySelector(selector as string);\n    } else if (selector instanceof ElementRef) {\n        return selector.nativeElement;\n    } else {\n        return selector as HTMLElement;\n    }\n}\n"]}