{"version":3,"file":"option.component.js","sourceRoot":"","sources":["../../.tmp/select/option.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n    Component,\n    Input,\n    TemplateRef,\n    ViewChild,\n    ChangeDetectionStrategy,\n    HostBinding,\n    HostListener,\n    ElementRef,\n    InjectionToken,\n    ChangeDetectorRef,\n    EventEmitter,\n    OnDestroy,\n    Output,\n    Inject,\n    Optional\n} from '@angular/core';\nexport class OptionSelectionChange {\n    option: ThyOptionComponent;\n    selected: boolean;\n}\n\nexport class OptionVisiableChange {\n    option: ThyOptionComponent;\n}\n\nexport interface IThySelectOptionParentComponent {\n    thyMode: 'multiple' | '';\n}\n\n/**\n * Injection token used to provide the parent component to options.\n */\nexport const THY_SELECT_OPTION_PARENT_COMPONENT = new InjectionToken<IThySelectOptionParentComponent>(\n    'THY_SELECT_OPTION_PARENT_COMPONENT'\n);\n\n@Component({\n    selector: 'thy-option',\n    template: \"<ng-container *ngIf=\\\"thyShowOptionCustom; else defaultOption\\\"> <ng-content></ng-content> </ng-container> <ng-template #defaultOption> <span class=\\\"ml-1\\\">{{ thyLabelText }}</span> <span class=\\\"text-light checked-icon\\\"> <i class=\\\"wtf wtf-checked\\\"></i> </span> </ng-template> \",\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ThyOptionComponent implements OnDestroy {\n    private _selected = false;\n    private _hidden = false;\n    @Input() thyValue: any;\n\n    @Input() thyRawValue: any;\n\n    @Input() thyLabelText: string;\n\n    @Input() thyShowOptionCustom: boolean;\n\n    @Input() thySearchKey: string;\n\n    @HostBinding('class.thy-option-item') _isOptionItem = true;\n\n    @ViewChild(TemplateRef) template: TemplateRef<any>;\n\n    @Input()\n    @HostBinding(`class.disabled`)\n    thyDisabled: boolean;\n\n    @HostBinding('class.hidden')\n    get hidden(): boolean {\n        return this._hidden;\n    }\n\n    /** Whether or not the option is currently selected. */\n    @HostBinding(`class.active`)\n    get selected(): boolean {\n        return this._selected;\n    }\n\n    @Output() readonly selectionChange: EventEmitter<OptionSelectionChange> = new EventEmitter();\n    @Output() readonly visiableChange: EventEmitter<OptionVisiableChange> = new EventEmitter();\n\n    constructor(\n        public element: ElementRef<HTMLElement>,\n        @Optional() @Inject(THY_SELECT_OPTION_PARENT_COMPONENT) public parent: IThySelectOptionParentComponent,\n        private cdr: ChangeDetectorRef\n    ) {}\n\n    @HostListener('click', ['$event'])\n    onClick(event: Event) {\n        if (this.parent.thyMode === 'multiple') {\n            this._selected ? this.deselect() : this.select();\n        } else {\n            this.select();\n        }\n    }\n\n    /** Selects the option. */\n    select(event?: Event): void {\n        if (!this.thyDisabled) {\n            if (!this._selected) {\n                this._selected = true;\n                this.selectionChange.emit({\n                    option: this,\n                    selected: this._selected\n                });\n                this.cdr.markForCheck();\n            }\n        }\n    }\n\n    /** Deselects the option. */\n    deselect(): void {\n        if (this._selected) {\n            this._selected = false;\n            this.selectionChange.emit({\n                option: this,\n                selected: this._selected\n            });\n            this.cdr.markForCheck();\n        }\n    }\n\n    hideOption() {\n        if (!this._hidden) {\n            this._hidden = true;\n            this.visiableChange.emit({ option: this });\n            this.cdr.markForCheck();\n        }\n    }\n\n    showOption() {\n        if (this._hidden) {\n            this._hidden = false;\n            this.visiableChange.emit({ option: this });\n            this.cdr.markForCheck();\n        }\n    }\n\n    matchSearchText(searchText: string): boolean {\n        if (this.thySearchKey) {\n            if (this.thySearchKey.indexOf(searchText) >= 0) {\n                return true;\n            } else {\n                return false;\n            }\n        } else {\n            if (this.thyLabelText.indexOf(searchText) >= 0) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    }\n\n    ngOnDestroy() {}\n}\n"]}