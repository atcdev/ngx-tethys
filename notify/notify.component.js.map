{"version":3,"file":"notify.component.js","sourceRoot":"","sources":["../../.tmp/notify/notify.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Input, HostBinding, OnInit, HostListener, OnDestroy } from '@angular/core';\nimport { ThyNotifyOption } from './notify-option.interface';\nimport { ThyNotifyService } from './notify.service';\nimport {\n    trigger,\n    state,\n    style,\n    animate,\n    transition\n} from '@angular/animations';\n\n@Component({\n    selector: 'thy-notify',\n    template: \"<ng-container *ngIf=\\\"!option.html\\\"> <a href=\\\"javascript:;\\\" class=\\\"thy-notify-close\\\"> <i class=\\\"wtf wtf-times\\\" (click)=\\\"closeNotify()\\\"></i> </a> <div [ngClass]=\\\"notifyIconType\\\"> <i class=\\\"wtf\\\" [ngClass]=\\\"notifyIconClass\\\"></i> </div> <div class=\\\"thy-notify-main\\\"> <div class=\\\"thy-notify-title\\\">{{option.title}}</div> <div class=\\\"thy-notify-content\\\" [ngClass]=\\\"{'thy-notify-content--extend':extendContentClass===true}\\\" (click)=\\\"extendContent()\\\">{{option.content}} <a href=\\\"javascript:;\\\" target=\\\"_blank\\\" class=\\\"link-secondary\\\" *ngIf=\\\"option.detail\\\" (click)=\\\"showDetailToggle()\\\">[详细]</a> </div> <div class=\\\"thy-notify-detail\\\" *ngIf=\\\"isShowDetail\\\">{{option.detail}}</div> </div> </ng-container> <ng-container *ngIf=\\\"option.html\\\"> <a href=\\\"javascript:;\\\" class=\\\"thy-notify-close\\\"> <i class=\\\"wtf wtf-times\\\" (click)=\\\"closeNotify()\\\"></i> </a> <div class=\\\"thy-notify-main\\\"> <template [ngTemplateOutlet]=\\\"option.html\\\"></template> </div> </ng-container> \",\n    animations: [\n        trigger('flyInOut', [\n            state('in', style({ transform: 'translateX(0)', opacity: 1 })),\n            transition('void => *', [\n                style({ transform: 'translateX(100%)', opacity: 0 }),\n                animate(100)\n            ]),\n            transition('* => void', [\n                animate(100, style({ transform: 'translateX(100%)', opacity: 0 }))\n            ])\n        ])\n    ]\n})\nexport class ThyNotifyComponent implements OnInit, OnDestroy {\n\n    @HostBinding('class.thy-notify') className = true;\n\n    @HostBinding('@flyInOut') flyInOut = 'in';\n\n    option: ThyNotifyOption;\n\n    notifyIconType = {};\n\n    notifyIconClass = {};\n\n    extendContentClass = false;\n\n    closeTimer: any;\n\n    isShowDetail = false;\n\n    @Input()\n    set thyOption(value: any) {\n        this.option = value;\n    }\n\n    constructor(\n        private notifyService: ThyNotifyService,\n    ) { }\n\n    ngOnInit() {\n\n        this.notifyIconType = {\n            'thy-notify-icon-success': this.option.type === 'success',\n            'thy-notify-icon-info': this.option.type === 'info',\n            'thy-notify-icon-warning': this.option.type === 'warning',\n            'thy-notify-icon-error': this.option.type === 'error'\n        };\n\n        this.notifyIconClass = {\n            'wtf-checked': this.option.type === 'success',\n            'wtf-level-low': this.option.type === 'info',\n            'wtf-bulletin': this.option.type === 'warning',\n            'wtf-times-lg': this.option.type === 'error',\n        };\n\n        this._creatCloseTimer();\n    }\n\n    ngOnDestroy() {\n        this._clearCloseTimer();\n    }\n\n    extendContent() {\n        this.extendContentClass = true;\n    }\n\n    showDetailToggle() {\n        this.isShowDetail = !this.isShowDetail;\n    }\n\n    closeNotify() {\n        this.notifyService.removeItemById(this.option.id);\n    }\n\n    @HostListener('mouseenter') mouseenter() {\n        if (this.option.pauseOnHover) {\n            this._clearCloseTimer();\n        }\n    }\n\n    @HostListener('mouseleave') mouseleave() {\n        if (this.option.pauseOnHover) {\n            this._creatCloseTimer();\n        }\n    }\n\n    private _creatCloseTimer() {\n        if (this.option.duration) {\n            this.closeTimer = setInterval(() => {\n                clearInterval(this.closeTimer);\n                this.closeNotify();\n            }, this.option.duration);\n        }\n    }\n\n    private _clearCloseTimer() {\n        clearInterval(this.closeTimer);\n    }\n\n}\n"]}