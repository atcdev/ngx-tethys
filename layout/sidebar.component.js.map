{"version":3,"file":"sidebar.component.js","sourceRoot":"","sources":["../../.tmp/layout/sidebar.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n    Component,\n    HostBinding,\n    Host,\n    Optional,\n    OnInit,\n    Input,\n    ViewChild,\n    Renderer2,\n    ElementRef,\n    NgZone\n} from '@angular/core';\nimport { ThyLayoutComponent } from './layout.component';\nimport { inputValueToBoolean } from '../util/helpers';\n\n@Component({\n    selector: 'thy-sidebar',\n    preserveWhitespaces: false,\n    template: `\n        <ng-content></ng-content>\n        <div\n            class=\"sidebar-drag\"\n            #dragRef\n            cdkDrag\n            cdkDragLockAxis=\"x\"\n            cdkDragBoundary=\".thy-layout\"\n            (cdkDragStarted)=\"dragStartedHandler()\"\n            (cdkDragEnded)=\"dragEndedHandler()\"\n        ></div>\n    `\n})\nexport class ThySidebarComponent implements OnInit {\n    @HostBinding('class.thy-layout-sidebar') thyLayoutSidebarClass = true;\n\n    @HostBinding('class.thy-layout-sidebar--clear-border-right') thyLayoutSidebarClearBorderRightClass = false;\n\n    @HostBinding('style.width.px') thyLayoutSidebarWidth: number;\n\n    @Input('thyWidth')\n    set thyWidth(value: any) {\n        this.thyLayoutSidebarWidth = value;\n        this.widthPassive = value;\n    }\n\n    @Input('thyHasBorderRight')\n    set thyHasBorderRight(value: string) {\n        this.thyLayoutSidebarClearBorderRightClass = !inputValueToBoolean(value);\n    }\n\n    @Input('thyIsDraggableWidth')\n    set thyIsDraggableWidth(value: any) {\n        if (inputValueToBoolean(value)) {\n            this.renderer.setStyle(this.dragRef.nativeElement, 'pointer-events', 'all');\n        }\n    }\n\n    @ViewChild('dragRef') dragRef: any;\n\n    dragStartedX: number;\n\n    widthPassive: number;\n\n    constructor(\n        @Optional() @Host() private thyLayoutComponent: ThyLayoutComponent,\n        private renderer: Renderer2,\n        private elementRef: ElementRef,\n        private ngZone: NgZone\n    ) {}\n\n    ngOnInit() {\n        if (this.thyLayoutComponent) {\n            this.thyLayoutComponent.hasSidebar = true;\n        }\n        this.ngZone.runOutsideAngular(() => {\n            setTimeout(() => {\n                this.widthPassive = this.elementRef.nativeElement.clientWidth;\n                this.renderer.setStyle(\n                    this.dragRef.nativeElement,\n                    'left',\n                    this.numberConvertToFloor(this.widthPassive) + 'px'\n                );\n            }, 0);\n        });\n    }\n\n    dragStartedHandler() {\n        this.dragStartedX = this.dragRef.nativeElement.getBoundingClientRect().x;\n    }\n\n    dragEndedHandler() {\n        const x = this.dragRef.nativeElement.getBoundingClientRect().x;\n        this.widthPassive = this.numberConvertToFloor(this.widthPassive * 1 + (x - this.dragStartedX));\n        this.thyLayoutSidebarWidth = this.widthPassive;\n    }\n\n    private numberConvertToFloor(value: number | string) {\n        let result = Math.floor((value as any) * 1);\n        if (result < 1) {\n            result = 1;\n        }\n        return result;\n    }\n}\n"]}