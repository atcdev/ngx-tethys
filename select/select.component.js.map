{"version":3,"file":"select.component.js","sourceRoot":"","sources":["../../.tmp/select/select.component.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAAE,SAAS,EAAE,UAAU,EAAE,WAAW,EAAE,KAAK,EAAE,UAAU,EAAU,MAAM,eAAe,CAAC;AAC9F,OAAO,EAAE,iBAAiB,EAAwB,MAAM,gBAAgB,CAAC;AACzE,OAAO,EAAE,sBAAsB,EAAE,MAAM,qCAAqC,CAAC;AAK7E,IAAM,IAAI,GAAG;AACb,CAAC,CAAC;;AAcF;IAuCI,4BACY,UAAsB,EACtB,sBAA8C;QAD9C,eAAU,GAAV,UAAU,CAAY;QACtB,2BAAsB,GAAtB,sBAAsB,CAAwB;QAvC1D,0BAA0B;QAC1B,gBAAW,GAAQ,IAAI,CAAC;QACxB,cAAS,GAAG,KAAK,CAAC;QAElB,mBAAc,GAAG,KAAK,CAAC;QACf,sBAAiB,GAAe,IAAI,CAAC;QACrC,qBAAgB,GAAqB,IAAI,CAAC;QAEjB,cAAS,GAAG,IAAI,CAAC;QASzC,kBAAa,GAAG,KAAK,CAAC;QAwB3B,IAAI,CAAC,sBAAsB,CAAC,iBAAiB,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC;IAC5E,CAAC;2BA5CQ,kBAAkB;IAa3B,sBAAI,uCAAO;aAAX,UAAY,KAAgB;YACxB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACvB,CAAC;;;OAAA;IAMD,uCAAU,GAAV,UAAW,GAAQ;QACf,IAAI,GAAG,KAAK,IAAI,CAAC,WAAW,EAAE;YAC1B,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;SAC1B;IACL,CAAC;IAED,6CAAgB,GAAhB,UAAiB,EAAO;QACpB,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;IAC/B,CAAC;IAED,8CAAiB,GAAjB,UAAkB,EAAO;QACrB,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;IAChC,CAAC;IAED,6CAAgB,GAAhB,UAAkB,UAAmB;QACjC,IAAI,CAAC,SAAS,GAAG,UAAU,CAAC;IAChC,CAAC;IASD,0CAAa,GAAb;QACI,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC5C,CAAC;IAED,qCAAQ,GAAR;QACI,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,gBAAc,IAAI,CAAC,KAAO,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC/D,IAAI,CAAC,sBAAsB,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IACrD,CAAC;IAED,6CAAgB,GAAhB,UAAiB,KAAY;QACzB,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC5C,CAAC;;IAjDgC;QAAhC,WAAW,CAAC,kBAAkB,CAAC;;yDAAkB;IAGlD;QADC,KAAK,EAAE;;;qDAGP;IAEQ;QAAR,KAAK,EAAE;;oDAAc;IAEb;QAAR,KAAK,EAAE;;6DAAuB;IAnBtB,kBAAkB;QAZ9B,SAAS,CAAC;YACP,QAAQ,EAAE,YAAY;YACtB,QAAQ,EAAE,+VAA+V;YACzW,SAAS,EAAE;gBACP;oBACI,OAAO,EAAE,iBAAiB;oBAC1B,WAAW,EAAE,UAAU,CAAC,cAAM,OAAA,oBAAkB,EAAlB,CAAkB,CAAC;oBACjD,KAAK,EAAE,IAAI;iBACd;gBACD,sBAAsB;aACzB;SACJ,CAAC;yCAyC0B,UAAU;YACE,sBAAsB;OAzCjD,kBAAkB,CA6D9B;IAAD,yBAAC;CAAA,AA7DD,IA6DC;SA7DY,kBAAkB","sourcesContent":["import { Component, forwardRef, HostBinding, Input, ElementRef, OnInit } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { UpdateHostClassService } from '../shared/update-host-class.service';\nimport { inputValueToBoolean } from '../util/helpers';\n\nexport type InputSize = 'xs' | 'sm' | 'md' | 'lg' | '';\n\nconst noop = () => {\n};\n\n@Component({\n    selector: 'thy-select',\n    template: \"<select thyInput [thySize]=\\\"_size\\\" [disabled]=\\\"_disabled\\\" [(ngModel)]=\\\"_innerValue\\\" (ngModelChange)=\\\"ngModelChange()\\\"> <ng-content></ng-content> </select> <a class=\\\"thy-select-remove remove-link\\\" href=\\\"javascript:;\\\" (click)=\\\"clearSelectValue($event)\\\" *ngIf=\\\"thyAllowClear && _innerValue\\\"> <i class=\\\"wtf wtf-times-circle\\\"></i> </a> \",\n    providers: [\n        {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => ThySelectComponent),\n            multi: true\n        },\n        UpdateHostClassService\n    ]\n})\nexport class ThySelectComponent implements ControlValueAccessor, OnInit {\n\n    // The internal data model\n    _innerValue: any = null;\n    _disabled = false;\n    _size: InputSize;\n    _expandOptions = false;\n    private onTouchedCallback: () => void = noop;\n    private onChangeCallback: (_: any) => void = noop;\n\n    @HostBinding('class.thy-select') _isSelect = true;\n\n    @Input()\n    set thySize(value: InputSize) {\n        this._size = value;\n    }\n\n    @Input() name: string;\n\n    @Input() thyAllowClear = false;\n\n    writeValue(obj: any): void {\n        if (obj !== this._innerValue) {\n            this._innerValue = obj;\n        }\n    }\n\n    registerOnChange(fn: any): void {\n        this.onChangeCallback = fn;\n    }\n\n    registerOnTouched(fn: any): void {\n        this.onTouchedCallback = fn;\n    }\n\n    setDisabledState?(isDisabled: boolean): void {\n        this._disabled = isDisabled;\n    }\n\n    constructor(\n        private elementRef: ElementRef,\n        private updateHostClassService: UpdateHostClassService\n    ) {\n        this.updateHostClassService.initializeElement(elementRef.nativeElement);\n    }\n\n    ngModelChange() {\n        this.onChangeCallback(this._innerValue);\n    }\n\n    ngOnInit() {\n        const classes = this._size ? [`thy-select-${this._size}`] : [];\n        this.updateHostClassService.updateClass(classes);\n    }\n\n    clearSelectValue(event: Event) {\n        event.stopPropagation();\n        this._innerValue = '';\n        this.onChangeCallback(this._innerValue);\n    }\n\n}\n"]}