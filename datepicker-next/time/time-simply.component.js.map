{"version":3,"file":"time-simply.component.js","sourceRoot":"","sources":["../../../.tmp/datepicker-next/time/time-simply.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, HostBinding, OnDestroy } from '@angular/core';\nimport { getFullTimeText } from '../util';\nimport { ThyDatepickerNextTimeInfo } from '../datepicker-next.interface';\nimport { datepickerNextActions, ThyDatepickerNextStore } from '../datepicker-next.store';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\ninterface ThyDatepickerNextTime extends ThyDatepickerNextTimeInfo {\n    text: string;\n    isActive?: boolean;\n}\n\n@Component({\n    selector: 'thy-datepicker-next-time-simply',\n    template: \"<div class=\\\"time-cell\\\" *ngFor=\\\"let time of times; trackBy:trackByFn\\\" [ngClass]=\\\"{'active': time.isActive}\\\" (click)=\\\"onSelectTime(time)\\\"> {{time.text}} </div> \"\n})\n\nexport class ThyDatepickerNextTimeSimplyComponent implements OnInit, OnDestroy {\n\n    @HostBinding('class') stylesClass = 'time-simply-container';\n\n    times: ThyDatepickerNextTime[] = [];\n\n    private ngUnsubscribe$ = new Subject();\n\n    constructor(\n        private store: ThyDatepickerNextStore,\n    ) { }\n\n    ngOnInit() {\n        this.store.select(ThyDatepickerNextStore.timeSelected)\n            .pipe(takeUntil(this.ngUnsubscribe$))\n            .subscribe(n => {\n                this._combinationTimes();\n            });\n    }\n\n    private _combinationTimes() {\n        this.times.length = 0;\n        for (let index = 0; index < 24; index++) {\n            let time: ThyDatepickerNextTime = {\n                text: `${getFullTimeText(index)}:00`,\n                hour: index,\n                minute: 0,\n            };\n            if (this.store.snapshot.timeSelected\n                && this.store.snapshot.timeSelected.hour === time.hour\n                && this.store.snapshot.timeSelected.minute === time.minute) {\n                time.isActive = true;\n            }\n            this.times.push(time);\n\n            time = { ...time };\n            time.isActive = false;\n            time.text = `${getFullTimeText(index)}:30`;\n            time.minute = 30;\n            if (this.store.snapshot.timeSelected\n                && this.store.snapshot.timeSelected.hour === time.hour\n                && this.store.snapshot.timeSelected.minute === time.minute) {\n                time.isActive = true;\n            }\n            this.times.push(time);\n        }\n    }\n\n    onSelectTime(time: ThyDatepickerNextTime) {\n        this.times.forEach(n => n.isActive = false);\n        time.isActive = true;\n\n        this.store.dispatch(datepickerNextActions.changeTimeSelected, {\n            hour: time.hour,\n            minute: time.minute,\n        });\n    }\n\n    trackByFn(index: number) {\n        return index;\n    }\n\n    ngOnDestroy(): void {\n        this.ngUnsubscribe$.next();\n        this.ngUnsubscribe$.complete();\n    }\n}\n"]}