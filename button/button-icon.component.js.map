{"version":3,"file":"button-icon.component.js","sourceRoot":"","sources":["../../.tmp/button/button-icon.component.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n    Component, Directive, HostBinding,\n    Input, ElementRef, Renderer2, ViewEncapsulation, ChangeDetectionStrategy\n} from '@angular/core';\nimport { AfterContentInit, OnChanges, OnInit } from '@angular/core';\nimport { inputValueToBoolean, isUndefined } from '../util/helpers';\nimport { UpdateHostClassService } from '../shared';\n\nexport type IconShape = '' | 'dashed' | 'solid';\n\nconst sizeClassesMap: any = {\n    'lg': ['btn-icon-lg'],\n    'sm': ['btn-icon-sm'],\n    'xs': ['btn-icon-xs']\n};\n\nconst shapeClassesMap: any = {\n    'circle-dashed': ['btn-icon-circle', 'circle-dashed'],\n    'circle-solid': ['btn-icon-circle', 'circle-solid'],\n    'circle-thick-dashed': ['btn-icon-circle', 'circle-dashed', 'border-thick'],\n    'circle-thick-solid': ['btn-icon-circle', 'circle-solid', 'border-thick'],\n    'self-icon': ['btn-icon-self-circle']\n};\n\nconst themeClassesMap: any = {\n    'danger-weak': ['btn-icon-danger-weak']\n};\n\n@Component({\n    selector: '[thy-button-icon],[thyButtonIcon]',\n    template: \"<i [ngClass]=\\\"_iconClasses\\\" *ngIf=\\\"_iconClasses\\\"></i><ng-content></ng-content>\",\n    providers: [\n        UpdateHostClassService\n    ],\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ThyButtonIconComponent implements OnInit {\n\n    private _initialized = false;\n\n    private _shape: IconShape;\n\n    private _size: string;\n\n    _iconPrefix = 'wtf';\n\n    _iconClasses: string[];\n\n    _icon: string;\n\n    _theme: string;\n\n    @HostBinding('class.btn') _isBtn = true;\n    @HostBinding('class.btn-icon') _isBtnIcon = true;\n    @HostBinding('class.btn-icon-light') _isLighted = false;\n    @HostBinding('class.btn-icon-active') _isActive = false;\n\n    _setIconClass(icon: string) {\n        if (icon) {\n            const classes = icon.split(' ');\n            if (classes.length === 1) {\n                classes.unshift('wtf');\n            }\n            this._iconClasses = classes;\n        } else {\n            this._iconClasses = null;\n        }\n    }\n\n    @Input()\n    set thySize(size: string) {\n        this._size = size;\n        if (this._initialized) {\n            this._setClasses();\n        }\n    }\n\n    // 字体前缀，默认 wtf\n    @Input()\n    set thyIcon(icon: string) {\n        this._setIconClass(icon);\n    }\n\n    @Input()\n    set thyButtonIcon(icon: string) {\n        this._setIconClass(icon);\n    }\n\n    @Input()\n    set thyShape(value: IconShape) {\n        this._shape = value;\n        if (this._initialized) {\n            this._setClasses();\n        }\n    }\n\n    @Input()\n    set thyLight(value: boolean) {\n        this._isLighted = inputValueToBoolean(value);\n    }\n\n    @Input()\n    set thyActive(value: boolean) {\n        this._isActive = inputValueToBoolean(value);\n    }\n\n    @Input()\n    set thyTheme(value: string) {\n        this._theme = value;\n        if (this._initialized) {\n            this._setClasses();\n        }\n    }\n\n    private _setClasses() {\n        const classes = sizeClassesMap[this._size] ? [...sizeClassesMap[this._size]] : [];\n        if (this._shape && shapeClassesMap[this._shape]) {\n            shapeClassesMap[this._shape].forEach((className: string) => {\n                classes.push(className);\n            });\n        }\n        if (this._theme && themeClassesMap[this._theme]) {\n            themeClassesMap[this._theme].forEach((className: string) => {\n                classes.push(className);\n            });\n        }\n        this.updateHostClassService.updateClass(classes);\n    }\n\n    constructor(\n        private elementRef: ElementRef,\n        private renderer: Renderer2,\n        private updateHostClassService: UpdateHostClassService\n    ) {\n        this.updateHostClassService.initializeElement(elementRef.nativeElement);\n    }\n\n    ngOnInit() {\n        this._setClasses();\n        this._initialized = true;\n    }\n}\n"]}