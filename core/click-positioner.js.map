{"version":3,"file":"click-positioner.js","sourceRoot":"","sources":["../../.tmp/core/click-positioner.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAAE,UAAU,EAAkB,MAAM,eAAe,CAAC;AAC3D,OAAO,EAAE,kBAAkB,EAAE,MAAM,qBAAqB,CAAC;;;AAUzD;IAKI,4BAAoB,eAAmC;QAAnC,oBAAe,GAAf,eAAe,CAAoB;QAJ/C,iBAAY,GAAqB,IAAI,CAAC;QAEtC,gBAAW,GAAG,KAAK,CAAC;IAE8B,CAAC;IAE3D,sBAAI,iDAAiB;aAArB;YACI,OAAO,IAAI,CAAC,YAAY,CAAC;QAC7B,CAAC;;;OAAA;IAED,mDAAsB,GAAtB,UAAuB,IAA2C;QAAlE,iBAIC;QAHG,UAAU,CAAC;YACP,IAAI,CAAC,KAAI,CAAC,iBAAiB,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,uCAAU,GAAV;QAAA,iBAQC;QAPG,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,OAAO;SACV;QACD,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QACxB,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,UAAC,KAAiB;YACxD,KAAI,CAAC,YAAY,GAAG,EAAE,CAAC,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC,EAAE,KAAK,CAAC,OAAO,EAAE,CAAC;QAC/D,CAAC,CAAC,CAAC;IACP,CAAC;;IAzBQ,kBAAkB;QAH9B,UAAU,CAAC;YACR,UAAU,EAAE,MAAM;SACrB,CAAC;yCAMuC,kBAAkB;OAL9C,kBAAkB,CA0B9B;6BArCD;CAqCC,AA1BD,IA0BC;SA1BY,kBAAkB","sourcesContent":["import { Injectable, Inject, NgZone } from '@angular/core';\nimport { ThyClickDispatcher } from './event-dispatchers';\n\nexport interface ThyClickPosition {\n    x: number;\n    y: number;\n}\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ThyClickPositioner {\n    private lastPosition: ThyClickPosition = null;\n\n    private initialized = false;\n\n    constructor(private clickDispatcher: ThyClickDispatcher) {}\n\n    get lastClickPosition(): ThyClickPosition | null {\n        return this.lastPosition;\n    }\n\n    runTaskUseLastPosition(task: (position?: ThyClickPosition) => void) {\n        setTimeout(() => {\n            task(this.lastClickPosition);\n        });\n    }\n\n    initialize(): void {\n        if (this.initialized) {\n            return;\n        }\n        this.initialized = true;\n        this.clickDispatcher.clicked(0).subscribe((event: MouseEvent) => {\n            this.lastPosition = { x: event.clientX, y: event.clientY };\n        });\n    }\n}\n"]}